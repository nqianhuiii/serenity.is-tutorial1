var U=(t,e,r)=>new Promise((n,i)=>{var o=p=>{try{l(r.next(p))}catch(m){i(m)}},a=p=>{try{l(r.throw(p))}catch(m){i(m)}},l=p=>p.done?n(p.value):Promise.resolve(p.value).then(o,a);l((r=r.apply(t,e)).next())});function qr(t,e){for(let r of t)if(e(r))return!0;return!1}function Ur(t,e){let r=0;for(let n of t)e(n)&&r++;return r}function zr(t,e){for(let r of t)if(e(r))return r;throw new Error("first:No element satisfies the condition.!")}function Qr(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function Jr(t,e,r){if(t.insert)t.insert(e,r);else if(Object.prototype.toString.call(t)==="[object Array]")t.splice(e,0,r);else throw new Error("Object does not support insert!")}function Wr(t){return Object.prototype.toString.call(t)==="[object Array]"}function jr(t,e){let r,n=!1;for(let i of t)if(e(i)){if(n)throw new Error("single:sequence contains more than one element.");n=!0,r=i}if(!n)throw new Error("single:No element satisfies the condition.");return r}function Vr(t,e){let r={};for(let n of t){let i=e(n)||"",o=r[i];o||(o=r[i]=[]),o.push(n)}return r}function Gr(t,e){var a;let r={byKey:Object.create(null),inOrder:[]};for(var n=0;n<t.length;n++){var i=t[n];let l=(a=e(i))!=null?a:"";var o=r.byKey[l];o===void 0?(o={order:r.inOrder.length,key:l,items:[i],start:n},r.byKey[l]=o,r.inOrder.push(o)):o.items.push(i)}return r}function Yr(t,e){for(let r of t)if(e(r))return r}function Zr(t,e){return t!=null?t:e}function Xr(t){return t!=null}var tn=()=>{var t=new Date;return new Date(t.getFullYear(),t.getMonth(),t.getDate())};function C(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function tt(t,e,r){if(e!=null||r!=null)return C(C(tt(t||{}),tt(e||{})),tt(r||{}));var n=t,i={}.toString.call(t).slice(8,-1);if(i=="Set")return new Set([...t].map(a=>tt(a)));if(i=="Map")return new Map([...t].map(a=>[tt(a[0]),tt(a[1])]));if(i=="Date")return new Date(t.getTime());if(i=="RegExp")return RegExp(t.source,_e(t));if(i=="Array"||i=="Object"){n=Array.isArray(t)?[]:{};for(var o in t)n[o]=tt(t[o])}return n}function _e(t){if(typeof t.source.flags=="string")return t.source.flags;var e=[];return t.global&&e.push("g"),t.ignoreCase&&e.push("i"),t.multiline&&e.push("m"),t.sticky&&e.push("y"),t.unicode&&e.push("u"),e.join("")}function mt(){return Z("__types")}function Bt(t,e){for(var r=e.split("."),n=0;n<r.length;n++)if(t=t[r[n]],t==null)return null;return t}var K=typeof globalThis!="undefined"&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||typeof global!="undefined"&&global||function(){return this}()||Function("return this")();function oe(){return K}function en(t,e){var r;let n=mt();if(e==null){if(r=n[t],r!=null||K==null||t==="Object")return r;e=K}return r=Bt(e,t),typeof r!="function"?null:r}function gt(t){return Object.prototype.hasOwnProperty.call(t,"__typeName")&&t.__typeName||void 0}function ae(t,e){Object.defineProperty(t,"__typeName",{value:e,configurable:!0})}function se(t){return gt(t)||t.name||(t.toString().match(/^\s*function\s*([^\s(]+)/)||[])[1]||"Object"}function rn(t){var e=se(t),r=e.indexOf("["),n=e.lastIndexOf(".",r>=0?r:e.length);return n>0?e.substr(n+1):e}function yt(t){if(t==null)throw new Rt("instance","Can't get instance type of null or undefined!");try{return t.constructor}catch(e){return Object}}function Ne(t,e){return t===e||e.prototype instanceof t?!0:typeof t.__isAssignableFrom=="function"?t.__isAssignableFrom(e):!1}function Ot(t,e){return t==null?!1:typeof e.__isInstanceOfType=="function"?e.__isInstanceOfType(t):Ne(e,yt(t))}function nn(t,e){return Ot(t,e)?t:null}function on(t,e){if(t==null)return t;if(Ot(t,e))return t;throw new Pt("Cannot cast object to type "+se(e))}function le(t){if(t===Object||!t.prototype||t.__interface===!0)return null;if(Object.getPrototypeOf)return Object.getPrototypeOf(t.prototype).constructor;var e=t.prototype;if(Object.prototype.hasOwnProperty.call(e,"constructor"))try{var r=e.constructor;return delete e.constructor,e.constructor}finally{e.constructor=r}return e.constructor}function Le(t,e,r){var c;var n=[];if(r){var i=le(t);if(i)for(var o=Le(i,e,!0),a=0;a<o.length;a++){var l=yt(o[a]);n.push(o[a])}}var p=(c=t.__metadata)==null?void 0:c.attr;if(p!=null)for(var a=0;a<p.length;a++){var o=p[a];if(e==null||Ot(o,e)){for(var l=yt(o),m=n.length-1;m>=0;m--)Ot(n[m],l)&&n.splice(m,1);n.push(o)}}return n}var He=(r=>(r[r.field=4]="field",r[r.property=16]="property",r))(He||{});function Re(t,e){var a;var r=[],n=le(t);n&&(r=Re(n,e&-2));var i=(a=t.__metadata)==null?void 0:a.members;if(i!=null)for(var o of i)e&o.type&&r.push(o);return r}function an(t,e){var r=e.name,n=fe(t);n.members=n.members||[];let i;for(var o of n.members)if(o.name==r){i=o;break}return i?(e.type!=null&&(i.type=e.type),e.attr!=null&&(i.attr=ce(i.attr,e.attr)),e.getter!=null&&(i.getter=e.getter),e.setter!=null&&(i.setter=e.setter),i):(n.members.push(e),e)}function sn(t){let e=mt();var r=[];if(t){var i=function(o,a){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&i(o[l],l);typeof o=="function"&&a.charAt(0).toUpperCase()===a.charAt(0)&&a.charAt(0).toLowerCase()!==a.charAt(0)&&r.push(o)};i(t,"")}else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(e[n]);return r}function ln(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&delete t[e]}function un(t,e){if(!t)return e._targets,e;if(!e)return t._targets,t;var r=t._targets?t._targets:[null,t],n=e._targets?e._targets:[null,e];return ue(r.concat(n))}var Pe={};function Z(t){let e;if(K?(K.Q||(K.Q={}),e=K.Q.__stateStore,e||(K.Q.__stateStore=e=Object.create(null))):e=Pe,t==null)return e;var r=e[t];return r==null&&(e[t]=r=Object.create(null)),r}var ie;(r=>(r.toString=(n,i)=>{var p;var o=n;if(i===0||!((p=n.__metadata)!=null&&p.enumFlags)){for(var a in o)if(o[a]===i)return a;return i==null?"":i.toString()}else{var l=[];for(var a in o)o[a]&i?l.push(a):l.push(i==null?"":i.toString());return l.join(" | ")}},r.getValues=n=>{var i=[],o=n;for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&typeof o[a]=="number"&&i.push(o[a]);return i}))(ie||(ie={}));function Be(t,e,r){for(var n=0;n<t.length;n+=2)if(t[n]===e&&t[n+1]===r)return!0;return!1}var ue=t=>{var e=function(){if(t.length===2)return t[1].apply(t[0],arguments);for(var r=t.slice(),n=0;n<r.length;n+=2)Be(t,r[n],r[n+1])&&r[n+1].apply(r[n],arguments);return null};return e._targets=t,e},fn=(t,e)=>{if(!t||t===e)return null;if(!e)return t;var r=t._targets,n=null,i;e._targets?(n=e._targets[0],i=e._targets[1]):i=e;for(var o=0;o<r.length;o+=2)if(r[o]===n&&r[o+1]===i){if(r.length===2)return null;var a=r.slice();return a.splice(o,2),ue(a)}return t},cn=t=>typeof t!="function"&&t.__interface===null;function dn(t,e){for(var r=0;r<e.length-1;r+=2)(function(n,i){Object.defineProperty(t.prototype,n,{get:function(){return this.w(n,i)},enumerable:!0,configurable:!0})})(e[r],e[r+1])}function pn(t,e,r,n){r=r||"get_"+e,n=n||"set_"+e,Object.defineProperty(t.prototype,e,{get:function(){return this[r]()},set:function(i){return this[n](i)},configurable:!0,enumerable:!0})}function fe(t){return(!Object.prototype.hasOwnProperty.call(t,"__metadata")||!t.__metadata)&&(t.__metadata=Object.create(null)),t.__metadata}function qe(t){return t.filter((e,r)=>t.indexOf(e)===r)}var Ue=new Proxy({},{get:(t,e)=>e});function gn(){return Ue}function yn(t){return t}function ce(t,e){return!t||!e?(t||e||[]).slice():qe(t.concat(e))}function ze(t){return t!=null&&Array.isArray(t.__interfaces)&&t.__interfaces.some(e=>{var r;return e===this||((r=gt(this))==null?void 0:r.length)&&e.__interface&&gt(e)===this.__typeName})}function qt(t,e,r){var i;let n=mt();e&&e.length?(ae(t,e),n[e]=t):(i=gt(t))!=null&&i.length&&(n[t.__typeName]=t),r!=null&&r.length&&Object.defineProperty(t,"__interfaces",{value:ce(t.__interfaces,r),configurable:!0})}function de(t,e,r){qt(t,e,r),Object.defineProperty(t,"__interface",{value:!1,configurable:!0})}function mn(t,e,r){de(t,e,r),Je(t,new St)}function pe(t,e,r){if(qt(t,e,void 0),r&&r!=e){let n=mt();n[r]||(n[r]=t)}Object.defineProperty(t,"__interface",{value:null,configurable:!0})}function Qe(t,e,r){qt(t,e,r),Object.defineProperty(t,"__interface",{value:!0,configurable:!0}),Object.defineProperty(t,"__isAssignableFrom",{value:ze,configurable:!0})}function Je(t,e){var r=fe(t);r.attr=r.attr||[],r.attr.push(e)}var Et=class{};Qe(Et,"Serenity.ISlickFormatter");var St=class{};de(St,"Serenity.EditorAttribute");function Ut(t,e,r){var a;if(!t)return;let n=mt();for(var i of Object.keys(t))if(!(i.charAt(0)<"A"||i.charAt(0)>"Z"||i.indexOf("$")>=0||!Object.prototype.hasOwnProperty.call(t,i))){var o=t[i];o==null||Array.isArray(o)||o instanceof Date||typeof o!="function"&&typeof o!="object"||(!gt(o)&&(typeof o=="function"&&typeof o.nodeType!="number"||Object.prototype.hasOwnProperty.call(o,"__interface")&&o.__interface!==void 0)&&(typeof o=="function"&&!o.__interfaces&&((a=o.prototype)!=null&&a.format)&&i.substr(-9)==="Formatter"&&(o.__interface===void 0&&Object.defineProperty(o,"__interface",{value:!1,configurable:!0}),o.__interfaces=[Et]),o.__interface!==void 0&&(ae(o,e+i),n[e+i]=o)),r>0&&Ut(o,e+i+".",r-1))}}var at=class extends Error{constructor(e){super(e),this.name="Exception"}},Rt=class extends at{constructor(e,r){super((r||"Value cannot be null.")+`
Parameter name: `+e),this.name="ArgumentNullException"}},Pt=class extends at{constructor(e){super(e),this.name="InvalidCastException"}};function bn(t,e){return String.prototype.endsWith?t.endsWith(e):e==null?!1:e.length?e.length>t.length?!1:t.substr(t.length-e.length)==e:!0}function kt(t){return t==null||t.length===0}function vn(t){return ht(t)==null}function R(t,e,r=" "){if(t.padStart)return t.padStart(e,r);for(t=t.toString();t.length<e;)t=r+t;return t}function z(t,e){return String.prototype.startsWith?t.startsWith(e):e==null?!1:e.length?e.length>t.length?!1:t.substr(0,e.length)===e:!0}function xn(t){return ge(ge(We(t),`\r
`," "),`
`," ").trim()}var Tn=function(t){return t.replace(/\s*$/,"")},wn=function(t){return t.replace(/^\s*/,"")};function G(t){return t==null?"":t.replace(new RegExp("^\\s+|\\s+$","g"),"")}function We(t){return t==null||t.length===0?"":G(t)}function ht(t){return t=G(t),t.length===0?null:t}function ge(t,e,r){return t=t||"",t.split(e).join(r)}function zt(t,e){let r=t.toString();for(;r.length<e;)r="0"+r;return r}function Q(t){let e=et()[t];return e==null&&(e=t!=null?t:""),e}var Sn=Q;function kn(t){return function(e){return Q("Db."+t+"."+e)}}function et(){return Z("__localText")}function Dn(t){return function(e,r){if(e!=null&&!z(e,"`")){var n=ut(e);if(n!=null)return n}if(e!=null&&z(e,"`")&&(e=e.substr(1)),!kt(t)){var i=typeof r=="function"?r(t):t+r,o=ut(i);if(o!=null)return o}return e}}function ut(t){var e=et()[t];return e}function In(t){return function(e){return Q("Db."+t+"."+e)}}function ye(t,e,r){if(typeof window!="undefined"&&window.Proxy)return new window.Proxy(t,{get:(i,o)=>{var a=r[o];if(a!=null){if(typeof a=="number")return Q(e+o);var l=t[o];return l!=null||(t[o]=l=ye({},e+o+".",a)),l}},ownKeys:i=>Object.keys(r)});for(var n of Object.keys(r))typeof r[n]=="number"?Object.defineProperty(t,n,{get:()=>Q(e+n)}):t[n]=ye({},e+n+".",r[n]);return t}var lt=class{constructor(e){this.key=e}static add(e,r){if(!e)return;let n=et();if(typeof e=="string"){n[e]=r;return}r=r||"";for(let i of Object.keys(e)){let o=r+i,a=e[i];typeof a=="object"?lt.add(a,o+"."):n[o]=a}}get(){var e=et()[this.key];return e==null&&(e=this.key||""),e}toString(){var e=et()[this.key];return e==null&&(e=this.key||""),e}},st=lt;st.empty=new lt(""),st.initializeTextClass=function(e,r){for(var n=Object.keys(e).slice(),i=et(),o=0;o<n.length;o++){var a=n[o],l=e[a];if(l instanceof lt){var p=l,m=r+a;i[m]=p.key,e[a]=new lt(m)}}},st.getDefault=function(e,r){var n=et()[e];return n==null&&(n=r,n==null&&(n=e||"")),n};if(typeof globalThis!="undefined"){let t=globalThis.Q||(globalThis.Q={});t.LT==null&&(t.LT=st)}typeof toastr!="undefined"&&toastr.options&&(toastr.options.escapeHtml=!0);var je={timeOut:3e3,showDuration:250,hideDuration:500,escapeHtml:!0,extendedTimeOut:500,positionClass:"position-toast toast-top-full-width"};function Dt(t){return t=C(C({},je),t),Ve(!0,t),t}function Mn(t,e,r){toastr.warning(t,e,Dt(r))}function $n(t,e,r){toastr.success(t,e,Dt(r))}function _n(t,e,r){toastr.info(t,e,Dt(r))}function Y(t,e,r){toastr.error(t,e,Dt(r))}function Ve(t,e){if(typeof toastr!="undefined"){var r=toastr.getContainer(e,t);if(!(!r.length||!r.hasClass("position-toast"))){var n=$(window.document.body).children(".ui-dialog:visible, .modal.in, .modal.show").last();if(n.length>0){var i=n.position();r.addClass("positioned-toast"),r.css({position:"absolute",top:i.top+28+"px",left:i.left+6+"px",width:n.width()-12+"px"})}else r.hasClass("positioned-toast")&&(r.removeClass("positioned-toast"),r.css({position:"",top:"",left:"",width:""}))}}}var J={applicationPath:"/",emailAllowOnlyAscii:!0,responsiveDialogs:!0,bootstrapMessages:!1,rootNamespaces:["Serenity"],notLoggedInHandler:null};typeof document!="undefined"&&(Qt=document.querySelector("link#ApplicationPath"),Qt!=null&&(J.applicationPath=Qt.getAttribute("href")));var Qt;function Ge(t,e,r){$("<option/>").val(e).text(r).appendTo(t)}function Pn(t){Ge(t,"",Q("Controls.SelectEditor.EmptyItemText"))}function Bn(t){t.html("")}function qn(t,e){let r=t.attr("id");if(kt(r))return $("#"+e);let n=$("#"+r+e);if(n.length>0||(n=$("#"+r+"_"+e),n.length>0))return n;for(;;){let i=r.lastIndexOf("_");if(i<=0)return $("#"+e);if(r=r.substr(0,i),n=$("#"+r+"_"+e),n.length>0)return n}}var Ye={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"};function Ke(t){return Ye[t]}function V(t){return t==null?"":(typeof t!="string"&&(t=""+t),t.replace(/[<>"'&]/g,Ke))}var Un=V;function zn(){return $("<div/>").appendTo(document.body)}function Qn(t){return $("<i/>").append(t.eq(0).clone()).html()}typeof $!="undefined"&&$.fn&&$.fn.button&&$.ui&&$.ui.button&&$.fn.button.noConflict&&($.fn.btn=$.fn.button.noConflict());function me(t){return t?z(t,"fa-")?"fa "+t:z(t,"glyphicon-")?"glyphicon "+t:t:null}function he(t,e,r){var n=C({modal:!0,width:"40%",maxWidth:450,minWidth:180,resizable:!1,open:function(){t.onOpen&&t.onOpen.call(this)},close:function(){$(this).dialog("destroy"),t.onClose&&t.onClose.call(this,t.result)}},t);return n.dialogClass="s-MessageDialog"+(r?" "+r:""),t.buttons&&(n.buttons=t.buttons.map(i=>{var o=er(i);return o.click=function(a){t.result=i.result,$(this).dialog("close"),i.click&&i.click.call(this,a)},o})),$("<div>"+e+"</div>").dialog(n)}var It,Ct;function ft(){return It!=null?It:It=!!($.fn.modal&&$.fn.modal.Constructor&&$.fn.modal.Constructor.VERSION&&($.fn.modal.Constructor.VERSION+"").charAt(0)=="3")}function rt(){return Ct!=null?Ct:Ct=typeof bootstrap!="undefined"&&(!bootstrap.Modal||!bootstrap.Modal.VERSION||(!bootstrap.Modal.VERSION+"").charAt(0)!="4")}function Kn(){It=void 0,Ct=void 0}var Ze={AlertTitle:"Alert",InformationTitle:"Information",WarningTitle:"Warning",ConfirmationTitle:"Confirm",OkButton:"OK",YesButton:"Yes",NoButton:"No",CancelButton:"Cancel",CloseButton:"Close"};function L(t){var e;return(e=ut("Dialogs."+t))!=null?e:Ze[t]}function Xe(t,e,r){var n=`<button type="button" class="${rt()?"btn-":""}close" data-${rt()?"bs-":""}dismiss="modal" aria-label="${L("CloseButton")}">${rt()?"":'<span aria-hidden="true">&times;</span>'}</button>`;return`<div class="modal ${r}" tabindex="-1" role="dialog">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            ${ft()?n:""}<h5 class="modal-title">${t}</h5>${ft()?"":n}
        </div>
        <div class="modal-body">${e}</div>
        <div class="modal-footer"></div>
    </div>
</div>
</div>`}function tr(t){var e=t.htmlEncode==null||t.htmlEncode?V(t.text):t.text,r=me(t.icon);return r!=null&&(e='<i class="'+r+"><i>"+(e?" "+e:"")),`<button class="btn ${t.cssClass?t.cssClass:""}"${t.hint?' title="'+V(t.hint)+'"':""}>${e}</button>`}function er(t){var e=t.htmlEncode==null||t.htmlEncode?V(t.text):t.text,r=me(t.icon);return r!=null&&(e='<i class="'+r+"><i> "),{text:e,attr:t.cssClass?{class:t.cssClass}:void 0,click:t.click}}function Wt(t,e,r){var n=Xe(t.title,e,"s-MessageModal"+(r?" "+r:"")),i=$(n).eq(0).appendTo(document.body);t.onOpen&&i.one("shown.bs.modal",t.onOpen),i.one("hidden.bs.modal",p=>{try{t.onClose&&t.onClose(t.result)}finally{i.remove()}});var o=i.find(".modal-footer");function a(p){return $(tr(p)).appendTo(o).click(m=>{t.result=p.result,i.modal("hide"),p.click&&p.click.call(this,m)})}if(t.buttons)for(var l of t.buttons)a(l);rt()?(i.modal({backdrop:!1}),i.modal("show")):i.modal({backdrop:!1,show:!0}),rt()&&i.modal("show")}var Jt;function bt(){return Jt==null&&(Jt=typeof $=="undefined"||(!$.ui||!$.ui.dialog)&&(!$.fn||!$.fn.modal)),Jt}function jt(t){return!!(!$.ui||!$.ui.dialog||J.bootstrapMessages||t&&t.bootstrap)}function be(t,e){var r=e==null||e.htmlEncode==null||e.htmlEncode;r&&(t=V(t));var n=e==null||e.preWrap==null&&r||e.preWrap;return'<div class="message"'+(n?' style="white-space: pre-wrap">':">")+t+"</div>"}function W(t,e){var n,i,o;if(bt()){window.alert(t);return}let r=jt(e);e=C({htmlEncode:!0,okButton:L("OkButton"),title:L("AlertTitle")},e),e.buttons==null&&(e.buttons=[],(e.okButton==null||e.okButton)&&e.buttons.push({text:typeof e.okButton=="boolean"?L("OkButton"):e.okButton,cssClass:(n=e.okButtonClass)!=null?n:r?"btn-danger":void 0,result:"ok"})),t=be(t,e),r?Wt(e,t,(i=e.modalClass)!=null?i:"s-AlertModal"):he(e,t,(o=e.dialogClass)!=null?o:"s-AlertDialog")}var Zn=W;function Vt(t,e,r){var i,o,a;if(bt()){window.confirm(t)&&e&&e();return}let n=jt(r);r=C({htmlEncode:!0,yesButton:L("YesButton"),noButton:L("NoButton"),title:L("ConfirmationTitle")},r),r.buttons==null&&(r.buttons=[],(r.yesButton==null||r.yesButton)&&r.buttons.push({text:typeof r.yesButton=="boolean"?L("YesButton"):r.yesButton,cssClass:(i=r.yesButtonClass)!=null?i:n?"btn-primary":void 0,result:"yes",click:e}),(r.noButton==null||r.noButton)&&r.buttons.push({text:typeof r.noButton=="boolean"?L("NoButton"):r.noButton,cssClass:n?rt()?"btn-danger":"btn-default":void 0,result:"no",click:r.onNo}),r.cancelButton&&r.buttons.push({text:typeof r.cancelButton=="boolean"?L("CancelButton"):r.cancelButton,cssClass:n?rt()?"btn-secondary":"btn-default":void 0,result:"cancel",click:r.onCancel})),t=be(t,r),n?Wt(r,t,(o=r.modalClass)!=null?o:"s-ConfirmModal"):he(r,t,(a=r.dialogClass)!=null?a:"s-ConfirmDialog")}var Xn=Vt;function At(t){if(bt()){window.alert(t.html);return}if(jt(t)){Wt({title:L("AlertTitle"),modalClass:"modal-lg",onOpen:function(){e=$(this).find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument,e.open(),e.write(t.html),e.close()}},'<div style="overflow: hidden"><iframe></iframe></div>',"s-IFrameModal");return}let e,r=$('<div style="overflow: hidden"><iframe></iframe></div>'),n=C({autoOpen:!0,modal:!0,width:"60%",height:"400",title:L("AlertTitle"),open:function(){e=r.find("iframe").css({border:"none",width:"100%",height:"100%"})[0].contentDocument,e.open(),e.write(n.html),e.close()},close:function(){e.open(),e.write(""),e.close(),r.dialog("destroy").html("")}},t);r.dialog(n)}function rr(t,e,r){if(bt()){window.alert(t),e&&e();return}Vt(t,e,C({title:L("InformationTitle"),dialogClass:"s-InformationDialog",modalClass:"s-InformationModal",yesButton:L("OkButton"),yesButtonClass:"btn-info",noButton:!1},r))}var ti=rr;function nr(t,e,r){if(bt()){window.alert(t),e&&e();return}Vt(t,e,C({title:L("SuccessTitle"),dialogClass:"s-SuccessDialog",modalClass:"s-SuccessModal",yesButton:L("OkButton"),yesButtonClass:"btn-success",noButton:!1},r))}var ei=nr;function ir(t,e){W(t,C({title:L("WarningTitle"),dialogClass:"s-WarningDialog",modalClass:"s-WarningModal",okButtonClass:"btn-warning"},e))}var ri=ir;function ve(t,e){if(!(!t.hasClass("s-Panel")||t.hasClass("hidden"))){var r=$.Event(e);if(r.type="panelbeforeclose",r.target=t[0],t.trigger(r),!r.isDefaultPrevented()){t.addClass("hidden");var n=t.data("paneluniquename")||new Date().getTime(),i="panel-hidden-"+n;$("."+i).removeClass(i).removeClass("panel-hidden"),$(window).triggerHandler("resize"),$(".require-layout:visible").triggerHandler("layout"),e=$.Event(e),e.type="panelclose",e.target=t[0],t.trigger(e)}}}var Mt;(r=>{function t(n){let i;n==null?i="??ERROR??":(i=n.Message,i==null&&(i=n.Code)),W(i)}r.showServiceError=t;function e(n,i,o,a,l){try{var p=(window.location.host||"").toLowerCase();if(p.indexOf("localhost")<0&&p.indexOf("127.0.0.1")<0||!window.toastr)return;var m=JSON.stringify(l||{});n="<p></p><p>Message: "+V(n)+"</p><p>File: "+V(i)+", Line: "+o+", Column: "+a+(m!="{}"?"</p><p>Error: ":"")+"</p>",window.setTimeout(function(){try{Y(n,"SCRIPT ERROR! See browser console (F12) for details.",{escapeHtml:!1,timeOut:15e3})}catch(c){}})}catch(c){}}r.runtimeErrorHandler=e})(Mt||(Mt={}));var ct=0;function xe(t){if(ct>0){ct++;return}$.blockUI?$.blockUI(t):$('<div class="blockUI blockOverlay" style="z-index: 2000; border: none; margin: 0px; padding: 0px; width: 100%; height: 100%; top: 0px; left: 0px; opacity: 0; cursor: wait; position: fixed;"></div>').appendTo(document.body),ct++}function $t(t){t=C({baseZ:2e3,message:"",overlayCSS:{opacity:"0.0",zIndex:2e3,cursor:"wait"},fadeOut:0},t),t.useTimeout?window.setTimeout(function(){xe(t)},0):xe(t)}function vt(){if(ct>1){ct--;return}ct--,$.unblockUI?$.unblockUI({fadeOut:0}):$(document.body).children(".blockUI.blockOverlay").remove()}function Gt(t){if($.cookie)return $.cookie(t);t+="=";for(var e=document.cookie.split(/;\s*/),r=e.length-1;r>=0;r--)if(!e[r].indexOf(t))return e[r].replace(t,"")}typeof $!="undefined"&&$.ajaxSetup&&$.ajaxSetup({beforeSend:function(t,e){if(!e||!e.crossDomain){var r=Gt("CSRF-TOKEN");r&&t.setRequestHeader("X-CSRF-TOKEN",r)}}});function or(t){let e=function(n){if(!(J.notLoggedInHandler!=null&&n&&n.Error&&n.Error.Code=="NotLoggedIn"&&J.notLoggedInHandler(t,n))){if(t.onError!=null){t.onError(n);return}Mt.showServiceError(n.Error)}};var r=t.service;return r&&r.length&&r.charAt(0)!="~"&&r.charAt(0)!="/"&&r.indexOf("://")<0&&(r=dt("~/Services/")+r),t=C({dataType:"json",contentType:"application/json",type:"POST",cache:!1,blockUI:!0,url:r,data:JSON.stringify(t.request),success:function(n,i,o){try{!n.Error&&t.onSuccess&&t.onSuccess(n)}finally{t.blockUI&&vt(),t.onCleanup&&t.onCleanup()}},error:function(n,i,o){try{if(n.status===403){var a=null;try{a=n.getResponseHeader("Location")}catch(m){a=null}if(a){window.top.location.href=a;return}}if((n.getResponseHeader("content-type")||"").toLowerCase().indexOf("application/json")>=0){var l=$.parseJSON(n.responseText);if(l&&l.Error){e(l);return}}var p=n.responseText;p?At({html:p}):n.status?n.status==500?W("HTTP 500: Connection refused! Check browser console for details."):W("HTTP "+n.status+" error! Check browser console for details."):n.statusText!="abort"&&W("An unknown AJAX connection error occurred! Check browser console for details.")}finally{t.blockUI&&vt(),t.onCleanup&&t.onCleanup()}}},t),t.blockUI&&$t(null),$.ajax(t)}function yi(t,e,r,n){return or(C({service:t,request:e,onSuccess:r},n))}function mi(t,e,r){t.EqualityFilter==null&&(t.EqualityFilter={}),t.EqualityFilter[e]=r}function hi(t){let e;t===void 0?e=location.search.substring(1,location.search.length):e=t||"";let r={},n=e.split("&");for(let i=0;i<n.length;i++){let o=n[i].split("="),a=decodeURIComponent(o[0]);r[a]=o.length>=2?decodeURIComponent(o[1]):a}return r}function bi(t){let e=$("<form/>").attr("method","POST").attr("action",t.url?dt(t.url):dt("~/Services/"+t.service)).appendTo(document.body);t.target&&e.attr("target",t.target);let r=$("<div/>").appendTo(e);$("<input/>").attr("type","hidden").attr("name","request").val($.toJSON(t.request)).appendTo(r);var n=Gt("CSRF-TOKEN");n&&$("<input/>").attr("type","hidden").attr("name","__RequestVerificationToken").appendTo(r).val(n),$("<input/>").attr("type","submit").appendTo(r),e.submit(),window.setTimeout(function(){e.remove()},0)}function vi(t){let e=$("<form/>").attr("method","POST").attr("action",dt(t.url)).appendTo(document.body);t.target&&e.attr("target",t.target);let r=$("<div/>").appendTo(e);if(t.params!=null)for(let i in t.params)$("<input/>").attr("type","hidden").attr("name",i).val(t.params[i]).appendTo(r);var n=Gt("CSRF-TOKEN");n&&$("<input/>").attr("type","hidden").attr("name","__RequestVerificationToken").appendTo(r).val(n),$("<input/>").attr("type","submit").appendTo(r),e.submit(),window.setTimeout(function(){e.remove()},0)}function dt(t){return t&&t.substr(0,2)==="~/"?J.applicationPath+t.substr(2):t}var Yt={decimalSeparator:".",groupSeparator:",",decimalDigits:2,negativeSign:"-",positiveSign:"+",percentSymbol:"%",currencySymbol:"$",dateSeparator:"/",dateOrder:"mdy",dateFormat:"MM/dd/yyyy",dateTimeFormat:"MM/dd/yyyy HH:mm:ss",amDesignator:"AM",pmDesignator:"PM",timeSeparator:":",firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minimizedDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],stringCompare:(t,e)=>t<e?-1:t>e?1:0};function ar(t){var e={};for(let r=0;r<t.length;r++)e[t.charAt(r)]=r+1;return function(r,n){if(r=r||"",n=n||"",r==n)return 0;for(let i=0,o=Math.min(r.length,n.length);i<o;i++){let a=r.charAt(i),l=n.charAt(i);if(a===l)continue;let p=e[a],m=e[l];if(p!=null&&m!=null)return p<m?-1:1;let c=a.localeCompare(l);if(c!=0)return c}return r.localeCompare(n)}}var w={decimalSeparator:".",groupSeparator:",",dateSeparator:"/",dateOrder:"dmy",dateFormat:"dd/MM/yyyy",dateTimeFormat:"dd/MM/yyyy HH:mm:ss",stringCompare:ar("AaBbCc\xC7\xE7FfGg\u011E\u011FHhI\u0131\u0130iJjKkLlMmNnOo\xD6\xF6PpRrSs\u015E\u015FTtUu\xDC\xFCVvYyZz")};(function(){let t;for(t in Yt)w[t]===void 0&&Object.prototype.hasOwnProperty.call(Yt,t)&&(w[t]=Yt[t]);if(typeof document!="undefined"&&(t=ht((document.querySelector("script#ScriptCulture")||{}).innerHTML))!=null){var e=JSON.parse(t);e.DecimalSeparator!=null&&(w.decimalSeparator=e.DecimalSeparator),e.GroupSeparator!=null&&e.GroupSeparator!=w.decimalSeparator?w.groupSeparator=e.GroupSeparator:w.groupSeparator==w.decimalSeparator&&(w.groupSeparator=w.decimalSeparator=="."?",":"."),delete e.groupSeparator,delete e.decimal;for(t in e)w[t]===void 0&&Object.prototype.hasOwnProperty.call(e,t)&&(w[t.charAt(0).toLowerCase()+t.substr(1)]=e[t])}})();function Fi(t){return t&&t.replace(/i/g,"\u0130").replace(/Ä±/g,"I").toUpperCase()}var Oi=w.stringCompare;function Te(t,e,r,n){var i=null,o=t.indexOf(e);o>0&&(i=t.substr(o),t=t.substr(0,o));var a=z(t,n);a&&(t=t.substr(1));var l=3;if(t.length<l)return(a?n:"")+(i?t+i:t);for(var p=t.length,m="",c=!1;!c;){var A=l,_=p-A;if(_<0&&(l+=_,A+=_,_=0,c=!0),!A)break;var D=t.substr(_,A);m.length?m=D+r+m:m=D,p-=A}return a&&(m="-"+m),i?m+i:m}var sr=/\{\{|\}\}|\{[^\}\{]+\}/g;function Fe(t,e,r,n){return t.replace(sr,function(i){if(i==="{{"||i==="}}")return i.charAt(0);var o=parseInt(i.substr(1),10),a=r[o+n];if(a==null)return"";var l=yt(a);if(l==Number||l==Date){var p=null,m=i.indexOf(":");return m>0&&(p=i.substring(m+1,i.length-1)),ur(a,p,e)}else return a.toString()})}function Oe(t,...e){return Fe(t,w,arguments,1)}function lr(t,e,...r){return Fe(t,e,arguments,2)}function ur(t,e,r){return typeof t=="number"?fr(t,e,r):Object.prototype.toString.call(t)==="[object Date]"?Se(t,e,r):t.format(e)}var Ei=(t,e,r)=>{var n=Math.pow(10,e||0);t*=n;var i=t>0|-(t<0);if(t%1===.5*i){var o=Math.floor(t);return(o+(r?i>0:o%2*i))/n}return Math.round(t)/n},Si=t=>t!=null?t>0?Math.floor(t):Math.ceil(t):null;function fr(t,e,r,n){var h,x,T,u,s,f;if(t==null)return"";var i=typeof r!="string"?r!=null?r:w:{decimalSeparator:r,groupSeparator:n!=null?n:r==","?".":","};if(isNaN(t))return(h=i.nanSymbol)!=null?h:w.nanSymbol;if(e==null||e.length==0||e=="i")return t.toString();var o=(x=i.decimalSeparator)!=null?x:w.decimalSeparator;n=(T=n!=null?n:i.groupSeparator)!=null?T:w.groupSeparator;var a=(u=i.negativeSign)!=null?u:w.negativeSign,l="",p=-1;e.length>1&&(p=parseInt(e.substr(1),10));var m=e.charAt(0);switch(m){case"d":case"D":l=parseInt(Math.abs(t)).toString(),p!=-1&&(l=R(l,p,"0")),t<0&&(l=a+l);break;case"x":case"X":l=parseInt(Math.abs(t)).toString(16),m=="X"&&(l=l.toUpperCase()),p!=-1&&(l=R(l,p,"0"));break;case"e":case"E":p==-1?l=t.toExponential():l=t.toExponential(p),m=="E"&&(l=l.toUpperCase());break;case"f":case"F":case"n":case"N":if(p==-1&&(p=(s=i.decimalDigits)!=null?s:w.decimalDigits),l=t.toFixed(p).toString(),p&&o!="."){var c=l.indexOf(".");l=l.substr(0,c)+o+l.substr(c+1)}(m=="n"||m=="N")&&(l=Te(l,o,n,a));break;case"c":case"C":case"p":case"P":if(p==-1&&(p=(f=i.decimalDigits)!=null?f:w.decimalDigits),(m==="p"||m=="P")&&(t*=100),l=Math.abs(t).toFixed(p).toString(),p&&o!="."){var c=l.indexOf(".");l=l.substr(0,c)+o+l.substr(c+1)}l=Te(l,o,n,a),l=lr("0",i,l);break;default:for(var A="",_="",D="",j=!1,S=!1,d=0;d<e.length;d++){var v=e.charAt(d);if(v=="'"){S=!S;continue}else if(!S){if(v=="\\"){var v=e.charAt(d+1)||"";d++}else if(v=="#"||v==","||v=="."||v=="0"){j=!0,_+=v;continue}}j?D+=v:A+=v}e=_;let g="";if(e.indexOf(".")>-1){let y=o,b=e.substring(e.lastIndexOf(".")+1);t=cr(t,b.length);let I=t%1,k=new String(I.toFixed(b.length));k=k.substring(k.lastIndexOf(".")+1);for(let M=0;M<b.length;M++)if(b.charAt(M)=="#"&&k.charAt(M)!="0"){y+=k.charAt(M);continue}else if(b.charAt(M)=="#"&&k.charAt(M)=="0")if(k.substring(M).match("[1-9]")){y+=k.charAt(M);continue}else break;else b.charAt(M)=="0"?y+=k.charAt(M):y+=b.charAt(M);g+=y}else t=Math.round(t);let E=Math.floor(t);t<0&&(E=Math.ceil(t));let F="";e.indexOf(".")==-1?F=e:F=e.substring(0,e.indexOf("."));let O="";if(!(E==0&&F.substr(F.length-1)=="#")){let y=new String(Math.abs(E)),b=9999;F.lastIndexOf(",")!=-1&&(b=F.length-F.lastIndexOf(",")-1);let I=0;for(let k=y.length-1;k>-1;k--)O=y.charAt(k)+O,I++,I==b&&k!=0&&(O=n+O,I=0);if(F.length>O.length){let k=F.indexOf("0");if(k!=-1){let M=F.length-k,q=F.length-O.length-1;for(;O.length<M;){let ot=F.charAt(q);ot==","&&(ot=n),O=ot+O,q--}}}}return!O&&F.indexOf("0",F.length-1)!==-1&&(O="0"),g=O+g,t<0&&(g=a+g),g.lastIndexOf(o)==g.length-1&&(g=g.substring(0,g.length-1)),A+g+D}return l}function X(t){t=G(t.toString());let e=w.groupSeparator;return t&&t.length&&t.indexOf(e)>0&&(t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")),/^[-\+]?\d+$/.test(t)?parseInt(t,10):NaN}function Ee(t){if(t==null||(t=G(t.toString()),t.length==0))return null;let e=w.groupSeparator;return t&&t.length&&t.indexOf(e)>0&&(t=t.replace(new RegExp("(\\b\\d{1,3})\\"+e+"(?=\\d{3}(\\D|$))","g"),"$1")),new RegExp("^\\s*([-\\+])?(\\d*)\\"+w.decimalSeparator+"?(\\d*)\\s*$").test(t)?parseFloat(t.toString().replace(w.decimalSeparator,".")):NaN}function cr(t,e){let r=Math.pow(10,e||0),n=(Math.round(t*r)/r).toString();if(e>0){let i=n.indexOf(".");for(i==-1?(n+=".",i=0):i=n.length-(i+1);i<e;)n+="0",i++}return parseFloat(n)}function ki(t){if(t==null)return null;if(typeof t=="number")return t;if(t=$.trim(t),t==null||!t.length)return null;if(t.length>=15||!/^-?\d+$/.test(t))return t;let e=parseInt(t,10);return isNaN(e)?t:e}var dr=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|\//g;function Se(t,e,r){var A,_,D,j,S,d,v,h,x,T,u,s,f;if(!t)return"";let n;if(typeof t=="string"){var i=xt(t,r==null?null:r.dateOrder);if(!i)return t;n=i}else n=t;if(e=="i")return n.toString();if(e=="id")return n.toDateString();if(e=="it")return n.toTimeString();if(r==null&&(r=w),e==null||e=="d")e=(A=r.dateFormat)!=null?A:w.dateFormat;else if(e.length==1)switch(e){case"g":e=((_=r.dateTimeFormat)!=null?_:w.dateTimeFormat).replace(":ss","");break;case"G":e=(D=r.dateTimeFormat)!=null?D:w.dateTimeFormat;break;case"s":e="yyyy-MM-ddTHH:mm:ss";break;case"d":e=(j=r.dateFormat)!=null?j:w.dateFormat;case"t":e=r.dateTimeFormat&&r.dateFormat?r.dateTimeFormat.replace(r.dateFormat+" ",""):"HH:mm";break;case"u":case"U":e=e=="u"?"yyyy-MM-ddTHH:mm:ss.fffZ":(S=r.dateTimeFormat)!=null?S:w.dateTimeFormat,n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds());break}e.charAt(0)=="%"&&(e=e.substr(1));var o=dr,a=[];for(o.lastIndex=0;;){var l=o.lastIndex,p=o.exec(e);if(a.push(e.slice(l,p?p.index:e.length)),!p)break;var m=p[0],c=m;switch(m){case"/":c=(d=r.dateSeparator)!=null?d:w.dateSeparator;break;case"dddd":c=((v=r.dayNames)!=null?v:w.dayNames)[n.getDay()];break;case"ddd":c=((h=r.shortDayNames)!=null?h:w.shortDayNames)[n.getDay()];break;case"dd":c=R(n.getDate().toString(),2,"0");break;case"d":c=n.getDate();break;case"MMMM":c=((x=r.monthNames)!=null?x:w.monthNames)[n.getMonth()];break;case"MMM":c=((T=r.shortMonthNames)!=null?T:w.shortMonthNames)[n.getMonth()];break;case"MM":c=R(n.getMonth()+1,2,"0");break;case"M":c=n.getMonth()+1;break;case"yyyy":c=R(n.getFullYear(),4,"0");break;case"yy":c=R(n.getFullYear()%100,2,"0");break;case"y":c=n.getFullYear()%100;break;case"h":case"hh":c=n.getHours()%12,c?m=="hh"&&(c=R(c,2,"0")):c="12";break;case"HH":c=R(n.getHours(),2,"0");break;case"H":c=n.getHours();break;case"mm":c=R(n.getMinutes(),2,"0");break;case"m":c=n.getMinutes();break;case"ss":c=R(n.getSeconds().toString(),2,"0");break;case"s":c=n.getSeconds();break;case"t":case"tt":c=n.getHours()<12?(u=r.amDesignator)!=null?u:w.amDesignator:(s=r.pmDesignator)!=null?s:w.pmDesignator,m=="t"&&(c=c.charAt(0));break;case"fff":c=R(n.getMilliseconds(),3,"0");break;case"ff":c=R(n.getMilliseconds(),3).substr(0,2);break;case"f":c=R(n.getMilliseconds(),3).charAt(0);break;case"z":case"Z":c=n.getTimezoneOffset()/60,c=(c>=0?"-":"+")+Math.floor(Math.abs(c));break;case"zz":case"zzz":c=n.getTimezoneOffset()/60,c=(c>=0?"-":"+")+Math.floor(R(Math.abs(c),2,"0")),m=="zzz"&&(c+=((f=r.timeSeparator)!=null?f:w.timeSeparator)+Math.abs(R(n.getTimezoneOffset()%60,2,"0")));break;default:c.charAt(0)=="'"&&(c=c.substr(1,c.length-2).replace(/\\'/g,"'"));break}a.push(c)}return a.join("")}function Di(t){if(t===0)return"0";if(!t)return"";let e=Math.floor(t/24/60),r="";e>0&&(r+=e.toString());let n=zt(Math.floor(t%(24*60)/60),2)+":"+zt(t%60,2);return n!="00:00"&&(e>0&&(r+="."),r+=n),r}function Ii(t){if(t==null)return"";let e=function(i){return(i<10?"0":"")+i},r=t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes()),n=Number(t.getUTCSeconds()+"."+(t.getUTCMilliseconds()<100?"0":"")+e(t.getUTCMilliseconds()));return r+=":"+e(n)+"Z",r}var pr=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;function we(t){if(!t||!t.length||(t=t+"",typeof t!="string"||t.length===0))return null;let e=t.match(pr);return typeof e=="undefined"||e===null?null:new Date(t+(t.length==10?"T00:00:00":""))}function _t(t){let e=G(t);if(e.length<4||e.length>5)return NaN;let r,n;if(e.charAt(1)==":")r=X(e.substr(0,1)),n=X(e.substr(2,2));else{if(e.charAt(2)!=":")return NaN;r=X(e.substr(0,2)),n=X(e.substr(3,2))}return isNaN(r)||isNaN(n)||r<0||r>23||n<0||n>59?NaN:r*60+n}function ke(t){let e,r=G(t);if(!r)return NaN;let n=r.split(".");if(n.length==0||n.length>2)return NaN;if(n.length==1)return e=X(n[0]),isNaN(e)?_t(n[0]):e*24*60;{e=X(n[0]);let i=_t(n[1]);return isNaN(e)||isNaN(i)?NaN:e*24*60+i}}function xt(t,e){if(!t||!t.length)return null;if(t.length>=10&&t.charAt(4)==="-"&&t.charAt(7)==="-"&&(t.length===10||t.length>10&&t.charAt(10)==="T")){var r=we(t);return r==null?!1:r}if(t=G(t),t.indexOf(" ")>0&&t.indexOf(":")>t.indexOf(" ")+1){var n=xt(t.substr(0,t.indexOf(" ")));return n?we(Se(n,"yyyy-MM-dd")+"T"+G(t.substr(t.indexOf(" ")+1))):!1}let i,o,a,l,p;if(o=gr(t),!o)return!1;if(o.length==3){switch(e=e||w.dateOrder,e){case"dmy":a=parseInt(o[0],10),l=parseInt(o[1],10)-1,p=parseInt(o[2],10);break;case"ymd":a=parseInt(o[2],10),l=parseInt(o[1],10)-1,p=parseInt(o[0],10);break;case"mdy":default:a=parseInt(o[1],10),l=parseInt(o[0],10)-1,p=parseInt(o[2],10);break}if(isNaN(a)||isNaN(l)||isNaN(p)||a<1||a>31||l<0||l>11||p>9999||p<0)return!1;if(p<100){let m=new Date().getFullYear(),c=m%100+10;p+=m-m%100+(p<=c?0:-100)}try{if(i=new Date(p,l,a),isNaN(i.getFullYear()))return!1}catch(m){return!1}}else if(o.length==1)try{if(i=new Date(o[0]),isNaN(i.getFullYear()))return!1}catch(m){return!1}return i}function gr(t){if(t=G(t),!!t.length)return t.indexOf("/")>=0?t.split("/"):t.indexOf(".")>=0?t.split("."):t.indexOf("-")>=0?t.split("-"):t.indexOf("\\")>=0?t.split("\\"):[t]}function Nt(t,e){let r,n=Z();if(n.__scriptHash==null&&typeof document!="undefined"&&(r=ht((document.querySelector("script#RegisteredScripts")||{}).innerHTML))!=null&&r.charAt(0)=="{"){var i=JSON.parse(r);H.setRegisteredScripts(i)}if(n.__scriptHash==null)if(e)n.__scriptHash={};else return null;return e?n.__scriptHash[t]=new Date().getTime().toString():n.__scriptHash[t]}function yr(t,e){Z("__scriptHash")[t]=e}function nt(t){return Z("__scriptData")[t]}function mr(t,e){Z("__scriptData")[t]=e}var H;(S=>{function t(d,v,h){typeof $!="undefined"&&typeof document!="undefined"&&$(document.body).bind("scriptdatachange."+v,function(x,T){T==d&&h()})}S.bindToChange=t;function e(d){typeof $!="undefined"&&typeof document!="undefined"&&$(document.body).triggerHandler("scriptdatachange",[d])}S.triggerChange=e;function r(d){typeof $!="undefined"&&typeof document!="undefined"&&$(document.body).unbind("scriptdatachange."+d)}S.unbindFromChange=r;function n(d,v){var h;return{async:v,cache:!0,type:"GET",url:dt("~/DynJS.axd/")+d+".js?v="+((h=Nt(d))!=null?h:new Date().getTime()),data:null,dataType:"text",converters:{"text script":function(x){return x}},success:function(x,T,u){$.globalEval(x)},error:function(x,T,u){var s=z(d,"Lookup.");if(x.status==403&&s){Y('<p>Access denied while trying to load the lookup: "<b>'+d.substr(7)+'</b>". Please check if current user has required permissions for this lookup.</p> <p><em>Lookups use the ReadPermission of their row by default. You may override that for the lookup like [LookupScript("Some.Lookup", Permission = "?")] to grant all authenticated users to read it (or use "*" for public).</em></p><p><em>Note that this might be a security risk if the lookup contains sensitive data, so it could be better to set a separate permission for lookups, like "MyModule:Lookups".</em></p>',null,{timeOut:1e4,escapeHtml:!1});return}Y("An error occurred while trying to load "+(s?' the lookup: "'+d.substr(7):' dynamic script: "'+d)+'"!. Please check the error message displayed in the dialog below for more info.');var f=x.responseText;f?At({html:f}):x.status?x.status==500?W("HTTP 500: Connection refused! Check browser console for details."):W("HTTP "+x.status+" error! Check browser console for details."):W("An unknown connection error occurred! Check browser console for details.")}}}function i(d){return U(this,null,function*(){return $t(null),yield Promise.resolve($.ajax(n(d,!0)).always(function(){vt()}))})}function o(d){$.ajax(n(d,!1))}function a(d){return U(this,null,function*(){return yield i(d)})}function l(d){var v;throw d!=null&&d.startsWith("Lookup.")?v='No lookup with key "'+d.substring(7)+'" is registered. Please make sure you have a [LookupScript("'+d.substring(7)+'")] attribute in server side code on top of a row / custom lookup and  its key is exactly the same.':v=Oe("Can't load script data: {0}!",d),Y(v),new Error(v)}function p(d){var v=nt(d);return v==null&&o(d),v=nt(d),v==null&&l(d),v}S.ensure=p;function m(d){return U(this,null,function*(){var v=nt(d);return v!=null||(yield a(d),v=nt(d),v==null&&l(d)),v})}S.ensureAsync=m;function c(d){Nt(d,!0),o(d);var v=nt(d);return v}S.reload=c;function A(d){return U(this,null,function*(){return Nt(d,!0),yield a(d),nt(d)})}S.reloadAsync=A;function _(d){return nt(d)!=null||Nt(d)!=null}S.canLoad=_;function D(d){var v=new Date().getTime().toString();for(var h in d)yr(h,d[h]||v)}S.setRegisteredScripts=D;function j(d,v){mr(d,v),e(d)}S.set=j})(H||(H={}));function Kt(t){return H.ensure("RemoteData."+t)}function hr(t){return U(this,null,function*(){return yield H.ensureAsync("RemoteData."+t)})}function br(t){return H.ensure("Lookup."+t)}function vr(t){return U(this,null,function*(){return yield H.ensureAsync("Lookup."+t)})}function xr(t){H.reload("Lookup."+t)}function Tr(t){return U(this,null,function*(){return yield H.reloadAsync("Lookup."+t)})}function wr(t){return Fr(t).items}function Fr(t){return H.ensure("Columns."+t)}function Or(t){return U(this,null,function*(){return(yield Er(t)).items})}function Er(t){return U(this,null,function*(){return H.ensureAsync("Columns."+t)})}function Sr(t){return kr(t).items}function kr(t){return H.ensure("Form."+t)}function Dr(t){return U(this,null,function*(){return(yield Ir(t)).items})}function Ir(t){return U(this,null,function*(){return yield H.ensureAsync("Form."+t)})}function Cr(t){return H.ensure("Template."+t)}function Ar(t){return U(this,null,function*(){return yield H.ensureAsync("Template."+t)})}function Mr(t){return H.canLoad(t)}var De={canLoadScriptData:Mr,getColumns:wr,getColumnsAsync:Or,getForm:Sr,getFormAsync:Dr,getLookup:br,getLookupAsync:vr,getRemoteData:Kt,getRemoteDataAsync:hr,getTemplate:Cr,getTemplateAsync:Ar,reloadLookup:xr,reloadLookupAsync:Tr,ScriptData:H};if(typeof globalThis!="undefined"){let t=globalThis.Q||(globalThis.Q={});for(Lt in De)t[Lt]==null&&(t[Lt]=De[Lt])}var Lt;var it;(r=>{function t(n){if(n==null)return!1;if(n=="*")return!0;if(n==""||n=="?")return r.isLoggedIn;var i=r.userDefinition;if(i&&i.IsAdmin)return!0;if(i&&i.Permissions){var o=i.Permissions;if(o[n])return!0;var a=n.split("|");for(var l of a){if(!l)continue;var p=l.split("&");if(!p.length)continue;let c=!1;for(var m of p)if(!o[m]){c=!0;break}if(!c)return!0}}return!1}r.hasPermission=t;function e(n){if(!t(n))throw Y(Q("Authorization.AccessDenied")),new Error(Q("Authorization.AccessDenied"))}r.validatePermission=e})(it||(it={}));Object.defineProperty(it,"userDefinition",{get:function(){return Kt("UserData")},configurable:!0});Object.defineProperty(it,"isLoggedIn",{get:function(){var t=it.userDefinition;return t&&!!t.Username},configurable:!0});Object.defineProperty(it,"username",{get:function(){var t=it.userDefinition;return t?t.Username:null},configurable:!0});var Zt=null;function Qi(t,e,r){if(Zt)return Zt.apply(this,arguments);var n,i,o,a,l;e==null&&(e=100);function p(){var c=Date.now()-a;c<e&&c>=0?n=setTimeout(p,e-c):(n=null,r||(l=t.apply(o,i),o=i=null))}var m=function(){o=this,i=arguments,a=Date.now();var c=r&&!n;return n||(n=setTimeout(p,e)),c&&(l=t.apply(o,i),o=i=null),l};return m.clear=function(){n&&(clearTimeout(n),n=null)},m.flush=function(){n&&(l=t.apply(o,i),o=i=null,clearTimeout(n),n=null)},m}function Ji(t){Zt=t}var Tt;(j=>{var t,e=0,r=0,n={};function i(){t==null&&r>0&&(t=window.setTimeout(a,100))}function o(){t!=null&&(window.clearTimeout(t),t=null)}function a(){for(var S in n){var d=n[S];try{var v=d.element();if(!v)continue;var h=v.offsetWidth,x=v.offsetHeight;try{if((d.width&&d.storedWidth!==h||d.height&&d.storedHeight!==x||!d.width&&!d.height&&(!h!=!d.storedWidth||!x!=!d.storedHeight))&&h>0&&x>0)try{d.handler()}finally{h=v.offsetWidth,x=v.offsetHeight}}finally{d.storedWidth=h,d.storedHeight=x}}catch(T){console.log(T)}}o(),i()}function l(S){var d=n[S];if(d){var v=d.element();v&&(d.storedWidth=v.offsetWidth,d.storedHeight=v.offsetHeight)}}j.store=l;function p(S){var d=n[S];d&&(l(S),d.storedWidth>=0&&d.storedHeight>=0&&d.handler(),l(S))}j.trigger=p;function m(S,d,v,h){if(d==null)throw"Layout handler can't be null!";return n[++e]={element:S,handler:d,width:v!==!1,height:h!==!1},r++,l(e),i(),e}j.onSizeChange=m;function c(S,d){return m(S,d,!0,!1)}j.onWidthChange=c;function A(S,d){return m(S,d,!1,!0)}j.onHeightChange=A;function _(S,d){return m(S,d,!1,!1)}j.onShown=_;function D(S){var d=n[S];return d&&(delete n[S],r--,r<=0&&o()),0}j.off=D})(Tt||(Tt={}));function ji(t,e){var r=t&&t[0];if(r){if(r.offsetWidth>0&&r.offsetHeight>0){e();return}var n=Tt.onShown(()=>r,()=>{Tt.off(n),e()})}}function Ie(t,e,r){var n=t&&t[0];n&&(r&&n.offsetWidth>0&&n.offsetHeight>0&&e(),Tt.onShown(()=>n,()=>{e()}))}var wt;(v=>{let t,e=0,r=0,n=0,i=0;v.enabled=!0;function a(h,x){return h==x||h==x+"#"||x==h+"#"}function l(h,x,T){if(!(!v.enabled||e>0)){h=h||"",h=h.replace(/^#/,""),h=h?"#"+h:"";var u=window.location.href.replace(/#$/,"").replace(/#.*$/,"")+h;if(u!=window.location.href){if(x&&t!=null&&a(t,u)){T&&S();var s=window.location.href;t=null,window.history.back();return}T&&S(),t=window.location.href,window.location.hash=h}}}v.navigate=l;function p(h,x){l(h,x,!0)}v.replace=p;function m(h,x){if(v.enabled){var T=window.location.hash||"";T.charAt(0)=="#"&&(T=T.substr(1,T.length-1));var u=T.split("/+/");u.length>1&&(h&&h.length?(u[u.length-1]=h,h=u.join("/+/")):(u.splice(u.length-1,1),h=u.join("/+/"))),p(h,x)}}v.replaceLast=m;function c(){return $(".ui-dialog-content:visible, .ui-dialog.panel-hidden>.ui-dialog-content, .s-Panel").toArray().sort((h,x)=>($(h).data("qrouterorder")||0)-($(x).data("qrouterorder")||0))}function A(h,x,T){var u=[],s=h.hasClass(".ui-dialog-content")||h.hasClass(".s-Panel"),f=s?h:h.closest(".ui-dialog-content, .s-Panel"),g=T(),E;if(f.length){for(var F=c(),O=F.indexOf(f[0]),y=0;y<=O;y++){var b=$(F[y]).data("qroute");b&&b.length&&u.push(b)}if(!s&&(E=f.attr("id"),E)){E+="_";var I=h.attr("id");I&&z(I,E)&&(g=I.substr(E.length)+"@"+g)}}else{var I=h.attr("id");I&&(!h.hasClass("route-handler")||$(".route-handler").first().attr("id")!=I)&&(g=I+"@"+g)}u.push(g),x.data("qroute",g),p(u.join("/+/")),x.bind("dialogclose.qrouter panelclose.qrouter",k=>{x.data("qroute",null),x.unbind(".qrouter");var M=x.data("qprhash"),q=$(k.target).closest(".s-MessageDialog").length>0||k&&k.originalEvent&&(k.originalEvent.type=="keydown"&&k.originalEvent.keyCode==27||$(k.originalEvent.target).hasClass("ui-dialog-titlebar-close")||$(k.originalEvent.target).hasClass("panel-titlebar-close"));M!=null?p(M,q):m("",q)})}function _(h,x,T){v.enabled&&x.on("dialogopen.qrouter panelopen.qrouter",u=>{A(h,x,T)})}v.dialog=_;function D(h){var I;if(v.enabled){e++;try{h=(I=h!=null?h:window.location.hash)!=null?I:"",h.charAt(0)=="#"&&(h=h.substr(1,h.length-1));for(var x=c(),T=h.split("/+/"),u=x.map(k=>$(k).data("qroute")),s=0;s<x.length&&s<T.length&&u[s]==T[s];)s++;for(var f=s;f<x.length;f++){var g=$(x[f]);g.hasClass("ui-dialog-content")?g.dialog("close"):g.hasClass("s-Panel")&&ve(g)}for(var f=s;f<T.length;f++){var E=T[f],F=E.split("@"),O;if(F.length==2){var y=f>0?$(x[f-1]):$([]);if(y.length){var b=y.attr("id");b&&(O=$("#"+b+"_"+F[0]),O.length&&(E=F[1]))}(!O||!O.length)&&(O=$("#"+F[0]),O.length&&(E=F[1]))}(!O||!O.length)&&(O=f>0?$(x[f-1]):$(".route-handler").first()),O.triggerHandler("handleroute",{handled:!1,route:E,parts:T,index:f})}}finally{e--}}}v.resolve=D;function j(h,x){if(n>0)if(new Date().getTime()-i>1e3)n=0;else{n--;return}D()}function S(){n++,i=new Date().getTime()}window.addEventListener("hashchange",j,!1);let d=1;typeof document!="undefined"&&typeof $!="undefined"&&$.fn&&$(document).on("dialogopen panelopen",".ui-dialog-content, .s-Panel",function(h,x){if(v.enabled){var T=$(h.target);if(T.data("qrouterorder",d++),!T.data("qroute")){T.data("qprhash",window.location.hash);var u=$(c).not(T).last();u.length||(u=$("html")),A(u,T,()=>"!"+(++r).toString(36))}}})})(wt||(wt={}));function ro(t){t.css("height","100%"),Nr(t)}function no(t,e){var n,i;$("body").addClass("full-height-page"),t.addClass("responsive-height");let r=function(){let o=t.parent().hasClass("page-content")||t.parent().is("section.content");o&&t.css("height","1px").css("overflow","hidden"),_r(t),o&&t.css("overflow",""),t.triggerHandler("layout")};$("body").hasClass("has-layout-event")?$("body").bind("layout",r):window.Metronic?window.Metronic.addResizeHandler(r):$(window).resize(r),r(),t.one("remove",()=>{$(window).off("layout",r),$("body").off("layout",r)}),!(e!=null&&e.noRoute)&&typeof document!="undefined"&&!$(document.body).attr("data-fhrouteinit")&&($(document.body).attr("data-fhrouteinit","true"),typeof wt!="undefined"&&((i=(n=wt).resolve)==null||i.call(n)))}function $r(t){let e=0;return t.parent().children().not(t).each(function(r,n){let i=$(n);i.is(":visible")&&(e+=i.outerHeight(!0))}),e=t.parent().height()-e,t.css("box-sizing")!=="border-box"&&(e=e-(t.outerHeight(!0)-t.height())),e}function _r(t){let e=$r(t),r=Math.round(e)+"px";t.css("height")!=r&&t.css("height",r)}function te(){var e,r;let t=typeof window!="undefined"&&(((r=(e=window.matchMedia)==null?void 0:e.call(window,"(max-width: 767px)"))==null?void 0:r.matches)||window.innerWidth<768);typeof document=="undefined"||!document.documentElement||(document.documentElement.classList.contains("mobile-device")?t||document.documentElement.classList.remove("mobile-device"):t&&document.documentElement.classList.add("mobile-device"))}te();function Xt(){var t=oe();if(t&&J.rootNamespaces)for(var e of J.rootNamespaces){var r=Bt(t,e);r!=null&&Ut(r,e+".",3)}typeof window!="undefined"&&(typeof $!="undefined"?$(window).bind("resize",te):window.addEventListener("resize",te))}typeof $!="undefined"?$(Xt):typeof document!="undefined"&&document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Xt):Xt();function Nr(t){Ie(t,function(){t.triggerHandler("layout")},!0)}function io(t){t.hasClass("ui-dialog")||(t=t.closest(".ui-dialog")),t.position({at:"center center",of:window});let e=t.position();e.left<0&&t.css("left","0px"),e.top<0&&t.css("top","0px")}var Ce=class{constructor(e,r){this.items=[];this.itemById={};e=e||{},this.textFormatter=e.textFormatter,this.idField=e.idField,this.parentIdField=e.parentIdField,this.textField=e.textField,this.textFormatter=e.textFormatter,r!=null&&this.update(r)}update(e){if(this.items=[],this.itemById={},e)for(var r of e)this.items.push(r);var n=this.idField;if(n)for(var i of this.items){var o=i[n];o!=null&&(this.itemById[o]=i)}}};var Ae=(a=>(a[a.Disabled=-1]="Disabled",a[a.None=0]="None",a[a.Sum=1]="Sum",a[a.Avg=2]="Avg",a[a.Min=3]="Min",a[a.Max=4]="Max",a))(Ae||{});pe(Ae,"Serenity.SummaryType");var Lr=(a=>(a[a.List=0]="List",a[a.KeyOnly=1]="KeyOnly",a[a.Details=2]="Details",a[a.None=3]="None",a[a.IdOnly=4]="IdOnly",a[a.Lookup=5]="Lookup",a))(Lr||{}),Hr=(a=>(a[a.details=0]="details",a[a.keyOnly=1]="keyOnly",a[a.list=2]="list",a[a.none=3]="none",a[a.idOnly=4]="idOnly",a[a.lookup=5]="lookup",a))(Hr||{});if(typeof $!="undefined"&&$.validator&&$.validator.methods&&$.validator.addMethod){$.validator.prototype.showLabel&&(Me=$.validator.prototype.showLabel,$.validator.prototype.showLabel=function(r,n){n!=null&&(n=V(n)),Me.call(this,r,n)}),$.validator.addMethod("customValidate",function(r,n){var i=this.optional(n);if(n==null||i)return i;var o=$._data(n,"events");if(!o)return!0;var a=o.customValidate;if(a==null||a.length===0)return!0;for(var l=$(n),p=0;p<a.length;p++)if($.isFunction(a[p].handler)){var m=a[p].handler(l);if(m!=null)return l.data("customValidationMessage",m),!1}return!0},function(r,n){return $(n).data("customValidationMessage")}),$.validator.addMethod("dateQ",function(r,n){var i=this.optional(n);if(i)return i;var o=xt(r);if(!o)return!1;var a=new Date(o);return a.setHours(0,0,0,0),a.getTime()===o.getTime()}),$.validator.addMethod("dateTimeQ",function(r,n){var i=this.optional(n);if(i)return i;var o=xt(r);return!!o}),$.validator.addMethod("hourAndMin",function(r,n){return this.optional(n)||!isNaN(_t(r))}),$.validator.addMethod("dayHourAndMin",function(r,n){return this.optional(n)||!isNaN(ke(r))}),$.validator.addMethod("decimalQ",function(r,n){return this.optional(n)||!isNaN(Ee(r))}),$.validator.addMethod("integerQ",function(r,n){return this.optional(n)||!isNaN(X(r))});let t=$.validator.methods.email,e=null;$.validator.addMethod("email",function(r,n){return J.emailAllowOnlyAscii?t.call(this,r,n):(e==null&&(e=new RegExp("^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$","i")),e.test(r))}),$(Rr)}var Me;function Rr(){let t=(e,r)=>{var n=ut("Validation."+r);n?$.validator.messages[e]=n:$.validator.messages[e]||($.validator.messages[e]=r+"?")};t("required","Required"),t("email","Email"),t("minlength","MinLength"),t("maxlength","MaxLength"),t("digits","Digits"),t("range","Range"),t("xss","Xss"),t("dateQ","DateInvalid"),t("decimalQ","Decimal"),t("integerQ","Integer"),t("url","Url")}function ee(t,e){return ft()?t.attr("data-original-title",e||"").tooltip("fixTitle"):t.attr("title",e||"").tooltip("_fixTitle"),t}function pt(t){var e=t.dataset.vxHighlight;if(e)return document.getElementById(e);if(t.classList.contains("select2-offscreen")&&t.id)return document.getElementById("s2id_"+t.id)}function re(){return{errorClass:"error",ignore:":hidden, .no-validate",ignoreTitle:!0,normalizer:function(t){return $.trim(t)},highlight:function(t,e,r){if(t.type==="radio")this.findByName(t.name).addClass(e).removeClass(r);else{e!=null&&e.length&&t.classList.add(e),r!=null&&r.length&&t.classList.remove(r);var n=pt(t);n&&n.classList&&(e!=null&&e.length&&n.classList.add(e),r!=null&&r.length&&n.classList.remove(r))}},unhighlight:function(t,e,r){if(t.type==="radio")this.findByName(t.name).removeClass(e).addClass(r);else{e!=null&&e.length&&t.classList.remove(e),r!=null&&r.length&&t.classList.add(r);var n=pt(t);n&&n.classList&&(e!=null&&e.length&&n.classList.remove(e),r!=null&&r.length&&n.classList.add(r))}},showErrors:function(){if($.fn.tooltip){var t,e,r,n,i;for(t=0;this.errorList[t];t++)r=this.errorList[t],i=pt(r.element),i!=null?n=$(i):n=$(r.element),t!=0?ee(n,"").tooltip("hide"):ee(n,r.message).tooltip("show");for(t=0,e=this.validElements();e[t];t++)i=pt(r.element),i!=null?n=$(i):n=$(r.element),ee(n,"").tooltip("hide")}$.validator.prototype.defaultShowErrors.call(this)}}}function bo(t,e){return t.validate(C(re(),e))}function vo(t,e,r){if(!t.length)return t;if(r==null)throw new at("rule is null!");return t.addClass("customValidate").bind("customValidate."+e,r),t}function xo(t,e){return t.unbind("customValidate."+e),t}var $e;function Pr(t,e){$e.call(this,t,e),this.errorsFor(t).each(function(r,n){var i=$(n);i.parent(".vx").length&&(i.attr("title",i.text()),e&&i.hasClass("error")&&i.removeClass("checked"))})}function Ht(){if(typeof $=="undefined"||!$.validator)return;let t=$.validator;t=t.prototype,$e=t.showLabel,t.showLabel=Pr,t.oldfocusInvalid=t.focusInvalid,t.focusInvalid=function(){this.settings.abortHandler&&this.settings.abortHandler(this),this.oldfocusInvalid.call(this)},t.oldstopRequest=t.focusInvalid,t.stopRequest=function(e,r){let n=this.formSubmitted;this.oldfocusInvalid.call(this,[e,r]),!r&&this.pendingRequest==0&&n&&this.settings.abortHandler&&this.settings.abortHandler(this)},t.resetAll=function(){this.submitted={},this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)}}function ko(t){t.settings.abortHandler=null,t.settings.submitHandler=function(){return!1}}function Do(t){var e=re();return delete e.showErrors,C(C(e,{meta:"v",errorPlacement:function(r,n){let i=null,o=n.attr("data-vx-id");if(o&&(i=$("#"+o),i.length?i=i[0]:i=null),i==null)if(i=n.parents("div.field"),i.length){let a=$("div.vx",i[0]);a.length&&(i=a[0])}else i=n.parent();r.appendTo(i)},submitHandler:function(){return!1},invalidHandler:function(r,n){if(Y(Q("Validation.InvalidFormMessage")),$(n.errorList.map(m=>m.element)).closest(".category.collapsed").children(".category-title").each((m,c)=>($(c).click(),!0)),n.errorList.length){var i=n.errorList[0].element;if(i){var o=$(i).closest(".tab-pane");if(!o.hasClass("active")&&o.parent().hasClass("tab-content")){var a=o.attr("id");a&&$('a[href="#'+a+'"]').click()}if($.fn.tooltip){var l,p=pt(i);p?l=$(p):l=$(i),$.fn.tooltip&&l.tooltip({title:n.errorList[0].message,trigger:"manual"}).tooltip("show"),window.setTimeout(function(){l.tooltip(ft()?"destroy":"dispose")},1500)}}}},success:function(r){r.addClass("checked")}}),t)}typeof $!="undefined"?$.validator?Ht():$(Ht):typeof document!="undefined"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ht):setTimeout(Ht,100));function Ft(t){var e=Ft.Builder.of(t);return!e.eq&&(e.__proto__=Ft.Builder.prototype),e}(T=>{let t=T;function e(u){return u==null||u.length===0||u.length===1&&typeof u[0]=="string"&&u[0].length===0}T.isEmpty=e;function r(u,s,f){return t.isEmpty(u)?f:t.isEmpty(f)?u:[u,s,f]}T.join=r;function n(u){return t.isEmpty(u)?u:["()",u]}T.paren=n;function i(u,s,...f){var g=r(u,"and",s);if(f)for(let E of f)g=r(g,"and",E);return g}T.and=i;function o(u,s,...f){var g=r(u,"or",s);if(f)for(let E of f)g=r(g,"or",E);return g}T.or=o;function a(u){return["not",u]}T.not=a;let l;(N=>(N.paren="()",N.not="not",N.isNull="is null",N.isNotNull="is not null",N.exists="exists",N.and="and",N.or="or",N.xor="xor",N.eq="=",N.ne="!=",N.gt=">",N.ge=">=",N.lt="<",N.le="<=",N.in="in",N.notIn="not in",N.like="like",N.notLike="not like"))(l=T.Operator||(T.Operator={}));class p extends Array{bw(s,f){return[[this,">=",s],"and",[this,"<=",f]]}contains(s){return[this,"like","%"+s+"%"]}endsWith(s){return[this,"like","%"+s]}eq(s){return[this,"=",s]}gt(s){return[this,">",s]}ge(s){return[this,">=",s]}in(s){return[this,"in",[s]]}isNull(){return["is null",this]}isNotNull(){return["is not null",this]}le(s){return[this,"<=",s]}lt(s){return[this,"<",s]}ne(s){return[this,"!=",s]}like(s){return[this,"like",s]}startsWith(s){return[this,"like",s+"%"]}notIn(s){return[this,"not in",[s]]}notLike(s){return[this,"not like",s]}}T.Builder=p;let m=1,c=2,A=3,_=4,D=function(u,s,f){this.expression=u,this.error=s,this.position=f,this.toString=function(){return'Error parsing expression: "'+u+'", "'+s+", position: "+f}};function j(u){var s,f,g=[],E=u.length,F=u.length-1,O=0,y,b;function I(){for(;y<E;){if(b=u.charAt(y),b===" "||b==="	"){y++;continue}break}}function k(){s=y;for(var B=!1;s++<F;)if(b=u.charAt(s),b==="'")if(s<F&&u.charAt(s+1)==="'"){s++,B=!0;continue}else break;if(s===y||u.charAt(s)!=="'")throw new D(u,"unterminated string",y);f=u.substr(y+1,s-y-1),B&&(f=f.replace(/''/g,"'"))}function M(){s=y;for(var B=!1;s<F&&(b=u.charAt(s+1),b>="0"&&b<="9"||!B&&b===".");)b==="."&&(B=!0),s++;if(f=parseFloat(u.substr(y,s-y+1)),isNaN(f))throw new D(u,"invalid number",y)}function q(){for(s=y;s<F&&(b=u.charAt(s+1),b=="_"||b>="A"&&b<="Z"||b>="a"&&b<="z"||b>="0"&&b<="9");)s++;f=u.substr(y,s-y+1)}function ot(){if(y++,q(),!f.length)throw new D(u,"expected parameter name",y)}function ne(){if(I(),y>=E||u.charAt(y)!="("){if(y<E&&u.charAt(y)=="@"){ot(),y=s;return}throw new D(u,"expected parenthesis",y)}y++;let B=[];for(;;){if(I(),y>=E)throw new D(u,"expected parenthesis",y);if(b=u.charAt(y),b==","){if(B.length==0)throw new D(u,"unexpected comma",y);y++,I(),b=u.charAt(y)}else{if(b==")")break;if(B.length>0)throw new D(u,"expected comma",y)}if(b==="'"){k(),B.push(f),y=s+1;continue}if(b>="0"&&b<="9"){M(),B.push(f),y=s+1;continue}if(b=="n"&&(q(),f==="null")){B.push(null),y=s+1;continue}throw new D(u,"unexpected token",y)}f=B}for(y=0;y<E;y++)if(b=u.charAt(y),!(b===" "||b==="	")){if(b=="_"||b>="A"&&b<="Z"||b>="a"&&b<="z"){q();var P=f.toLowerCase();if(P=="is")if(y=s+1,I(),q(),P=f.toLowerCase(),P==="not")if(y=s+1,I(),q(),f.toLowerCase()==="null")g.push({t:c,v:"is not null"});else throw new D(u,'expected "null"',y);else if(P==="null")g.push({t:c,v:"is null"});else throw new D(u,'expected "null" or "not" keyword',y);else if(P==="and"||P==="or"||P==="xor")g.push({t:c,v:P});else if(P==="not"){let B=s;y=s+1,I(),q(),P=f.toLowerCase(),P==="in"?(y=s+1,g.push({t:c,v:"not in"}),ne(),typeof f=="string"?g.push({t:_,v:f}):g.push({t:A,v:f})):P==="like"?(g.push({t:c,v:"not like"}),y=s):(g.push({t:c,v:"not"}),y=B);continue}else if(P==="in"){g.push({t:c,v:"in"}),y=s+1,ne(),typeof f=="string"?g.push({t:_,v:f}):g.push({t:A,v:f});continue}else P==="like"?g.push({t:c,v:"like"}):g.push({t:m,v:f});y=s;continue}if(b==="@"){ot(),g.push({t:_,v:f}),y=s;continue}if((b==="-"||b==="+")&&y<F&&u.charAt(y+1)>="0"&&u.charAt(y+1)<="9"||b>="0"&&b<="9"){s=y,M(),g.push({t:A,v:f}),y=s;continue}if(b==="'"){s=y,k(),g.push({t:A,v:f}),y=s;continue}if(b==="="){g.push({t:c,v:b});continue}if(b==="("){O++,g.push({t:c,v:b});continue}if(b==")"){if(O<=0)throw new D(u,"unexpected parenthesis",y);O--,g.push({t:c,v:b});continue}if(b===">"||b==="<"){y<F&&u.charAt(y+1)==="="?(g.push({t:c,v:b+"="}),y++):g.push({t:c,v:b});continue}throw new D(u,"unknown token",y)}if(O>0)throw new D(u,"missing parenthesis",y);return g}let S={"=":4,">":4,"<":4,">=":4,"<=":4,"<>":4,"!=":4,like:4,"not like":4,in:4,"is null":4,"is not null":4,not:5,and:6,or:7};function d(u){var s=[],f=[];for(var g of u)if(g.t===c){var E=S[g.v];if(E!=null){for(;f.length;){var F=f[f.length-1];if(F.t!==c)break;var O=S[F.v];if(O==null||O>E)break;s.push(f.pop())}f.push(g)}else if(g.v==="(")f.push(g);else if(g.v===")"){for(;f.length&&(f[f.length-1].t!==c||f[f.length-1].v!=="(");)s.push(f.pop());f.pop()}else s.push(g)}else s.push(g);for(;f.length;){var y=f.pop();if(y.t==c&&(y.v==="("||y.v===")"))throw"Mismatched parentheses in permission expression!";s.push(y)}return s}function v(u,s){var f=[];for(var g of u)switch(g.t){case m:{f.push([g.v]);break}case A:{f.push(Array.isArray(g.v)?[g.v]:g.v);break}case _:{if(!s)throw new Error("getParam must be passed for parameterized expressions!");var E=s(g.v);f.push(Array.isArray(E)?[E]:E);break}case c:{switch(g.v){case"not":case"is null":case"is not null":if(!f.length)throw new Error("Unary operator "+g.v+" requires a value!");f.push([g.v,f.pop()]);break;default:if(f.length<2)throw new Error("Binary operator "+g.v+" requires two values!");var F=f.pop(),O=f.pop();f.push([O,g.v,F]);break}break}default:throw new Error("Invalid operator type: "+g.t+"!")}if(f.length!=1)throw new Error("Error evaluating expression!");return f.pop()}function h(u,s){var f=j(u),g=d(f);return v(g,s)}function x(u,...s){if(!(u!=null&&u.length))return[];if(typeof u=="string")return h(u,s==null||s[0]==null?null:g=>s[0][g]);if(!(s!=null&&s.length))return h(u.join(""));var f=String.raw({raw:u},...s.map((g,E)=>"@__"+E));return h(f,g=>g!=null&&g.startsWith("__")?s[parseInt(g.substring(2),10)]:void 0)}T.parse=x})(Ft||(Ft={}));export{Rt as ArgumentNullException,it as Authorization,Lr as ColumnSelection,J as Config,Ft as Criteria,w as Culture,St as EditorAttribute,ie as Enum,Mt as ErrorHandling,at as Exception,Et as ISlickFormatter,Pt as InvalidCastException,Yt as Invariant,st as LT,Tt as LayoutTimer,Ce as Lookup,He as MemberType,Hr as RetrieveColumnSelection,wt as Router,H as ScriptData,Ae as SummaryType,Je as addAttribute,Pn as addEmptyOption,Ge as addOption,an as addTypeMember,vo as addValidationRule,Zn as alert,W as alertDialog,qr as any,Un as attrEncode,ro as autoFullHeight,re as baseValidateOptions,$t as blockUI,vt as blockUndo,Xe as bsModalMarkup,Mr as canLoadScriptData,on as cast,io as centerDialog,ln as clearKeys,Bn as clearOptions,ve as closePanel,Zr as coalesce,ar as compareStringFactory,Xn as confirm,Vt as confirmDialog,Ur as count,kn as dbText,In as dbTryText,Qi as debounce,tt as deepClone,je as defaultNotifyOptions,un as delegateCombine,fn as delegateRemove,tr as dialogButtonToBS,er as dialogButtonToUI,bn as endsWith,Ie as executeEverytimeWhenVisible,ji as executeOnceWhenVisible,C as extend,gn as fieldsProxy,qn as findElementWithRelativeId,zr as first,Oe as format,Se as formatDate,Di as formatDayHourAndMin,Ii as formatISODateTimeUTC,fr as formatNumber,Le as getAttributes,le as getBaseType,wr as getColumns,Or as getColumnsAsync,Fr as getColumnsData,Er as getColumnsDataAsync,Gt as getCookie,Sr as getForm,Dr as getFormAsync,kr as getFormData,Ir as getFormDataAsync,oe as getGlobalThis,pt as getHighlightTarget,yt as getInstanceType,br as getLookup,vr as getLookupAsync,Re as getMembers,Bt as getNested,Kt as getRemoteData,hr as getRemoteDataAsync,Z as getStateStore,Cr as getTemplate,Ar as getTemplateAsync,en as getType,se as getTypeFullName,gt as getTypeNameProp,rn as getTypeShortName,sn as getTypes,Gr as groupBy,V as htmlEncode,At as iframeDialog,Qr as indexOf,ti as information,rr as informationDialog,dn as initFormType,no as initFullHeightGridPage,Ut as initializeTypes,Jr as insert,Wr as isArray,Ne as isAssignableFrom,ft as isBS3,rt as isBS5Plus,kt as isEmptyOrNull,cn as isEnum,Ot as isInstanceOfType,vn as isTrimmedEmpty,Xr as isValue,yn as keyOf,_r as layoutFillHeight,$r as layoutFillHeightValue,Rr as loadValidationErrorMessages,Q as localText,lr as localeFormat,Ji as mockDebounce,zn as newBodyDiv,Y as notifyError,_n as notifyInfo,$n as notifySuccess,Mn as notifyWarning,Qn as outerHtml,R as padLeft,xt as parseDate,ke as parseDayHourAndMin,Ee as parseDecimal,_t as parseHourAndMin,we as parseISODateTime,X as parseInteger,hi as parseQueryString,Ve as positionToastContainer,bi as postToService,vi as postToUrl,Dn as prefixedText,pn as prop,ye as proxyTexts,de as registerClass,mn as registerEditor,pe as registerEnum,Qe as registerInterface,xr as reloadLookup,Tr as reloadLookupAsync,xo as removeValidationRule,ge as replaceAll,Kn as resetBSVersionCheck,dt as resolveUrl,Ei as round,nn as safeCast,or as serviceCall,yi as serviceRequest,mi as setEquality,te as setMobileDeviceMode,ae as setTypeNameProp,jr as single,gr as splitDateString,z as startsWith,ei as success,nr as successDialog,Sn as text,Vr as toGrouping,ki as toId,xn as toSingleLine,tn as today,Nr as triggerLayoutOnShow,G as trim,Tn as trimEnd,wn as trimStart,We as trimToEmpty,ht as trimToNull,Si as trunc,Yr as tryFirst,ut as tryGetText,Oi as turkishLocaleCompare,Fi as turkishLocaleToUpper,bo as validateForm,Do as validateOptions,ko as validatorAbortHandler,ri as warning,ir as warningDialog,zt as zeroPad};
//# sourceMappingURL=index.js.map
